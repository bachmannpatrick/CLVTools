<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Summarizing a fitted CLV model — summary.clv.fitted • CLVTools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Summarizing a fitted CLV model — summary.clv.fitted" />
<meta property="og:description" content="Summary method for fitted CLV models that provides statistics about the estimated parameters
and information about the optimization process. If multiple optimization methods were used
(for example if specified in parameter optimx.args), all information here refers to
the last method/row of the resulting optimx object." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-31477052-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-31477052-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CLVTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CLVTools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/internal_docu/internal_docu.html">Internal Package Documentation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bachmannpatrick/CLVTools/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Summarizing a fitted CLV model</h1>
    <small class="dont-index">Source: <a href='https://github.com/bachmannpatrick/CLVTools/blob/master/R/f_s3generics_clvfitted.R'><code>R/f_s3generics_clvfitted.R</code></a>, <a href='https://github.com/bachmannpatrick/CLVTools/blob/master/R/f_s3generics_clvfitted_staticcov.R'><code>R/f_s3generics_clvfitted_staticcov.R</code></a></small>
    <div class="hidden name"><code>summary.clv.fitted.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Summary method for fitted CLV models that provides statistics about the estimated parameters
and information about the optimization process. If multiple optimization methods were used
(for example if specified in parameter <code>optimx.args</code>), all information here refers to
the last method/row of the resulting <code>optimx</code> object.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for clv.fitted</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='kw'>object</span>, <span class='kw'>...</span>)

<span class='co'># S3 method for clv.fitted.static.cov</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='kw'>object</span>, <span class='kw'>...</span>)

<span class='co'># S3 method for summary.clv.fitted</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(
  <span class='kw'>x</span>,
  digits = <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span>(<span class='fl'>3L</span>, <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"digits"</span>) <span class='op'>-</span> <span class='fl'>3L</span>),
  signif.stars = <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"show.signif.stars"</span>),
  <span class='kw'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>A fitted CLV model</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Ignored for <code>summary</code>, forwarded to <code>printCoefmat</code> for <code>print</code>.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>an object of class <code>"summary.clv.no.covariates"</code>, usually, a result of a call to <code>summary.clv.no.covariates</code>.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>the number of significant digits to use when printing.</p></td>
    </tr>
    <tr>
      <th>signif.stars</th>
      <td><p>logical. If TRUE, &#8216;significance stars&#8217; are printed for each coefficient.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>This function computes and returns a list of summary information of the fitted model
given in <code>object</code>. It returns a list of class <code>summary.clv.no.covariates</code> that contains the
following components:</p>
<dt>name.model</dt><dd><p>the name of the fitted model.</p></dd>
<dt>call</dt><dd><p>The call used to fit the model.</p></dd>
<dt>tp.estimation.start</dt><dd><p>Date or POSIXct indicating when the fitting period started.</p></dd>
<dt>tp.estimation.end</dt><dd><p>Date or POSIXct indicating when the fitting period ended.</p></dd>
<dt>estimation.period.in.tu</dt><dd><p>Length of fitting period in <code>time.unit</code>s.</p></dd>
<dt>time.unit</dt><dd><p>Time unit that defines a single period.</p></dd>
<dt>coefficients</dt><dd><p>a <code>px4</code> matrix with columns for the estimated coefficients, its standard error,
the t-statistic and corresponding (two-sided) p-value.</p></dd>
<dt>estimated.LL</dt><dd><p>the value of the log-likelihood function at the found solution.</p></dd>
<dt>AIC</dt><dd><p>Akaike's An Information Criterion for the fitted model.</p></dd>
<dt>BIC</dt><dd><p>Schwarz's Bayesian Information Criterion for the fitted model.</p></dd>
<dt>KKT1</dt><dd><p>Karush-Kuhn-Tucker optimality conditions of the first order, as returned by optimx.</p></dd>
<dt>KKT2</dt><dd><p>Karush-Kuhn-Tucker optimality conditions of the second order, as returned by optimx.</p></dd>
<dt>fevals</dt><dd><p>The number of calls to the log-likelihood function during optimization.</p></dd>
<dt>method</dt><dd><p>The last method used to obtain the final solution.</p></dd>
<dt>additional.options</dt><dd><p>A list of additional options used for model fitting.
       <dl>
           <dt>Correlation</dt><dd><p>Whether the correlation between the purchase and the attrition process was estimated.</p></dd>
           <dt>estimated.param.cor</dt><dd><p>Correlation coefficient measuring the correlation between the two processes, if used.</p></dd>
</dl></p></dd>

For models fits with static covariates, the list additionally is of class summary.clv.static.covariates
and the list in additional.options contains the following elements:
<dt>additional.options</dt><dd><p><dl>
           <dt>Regularization</dt><dd><p>Whether L2 regularization for parameters of contextual factors was used.</p></dd>
           <dt>lambda.life</dt><dd><p>The regularization lambda used for the parameters of the Lifetime process, if used.</p></dd>
           <dt>lambda.trans</dt><dd><p>The regularization lambda used for the parameters of the Transaction process, if used.</p></dd>
           <dt>Constraint covs</dt><dd><p>Whether any covariate parameters were forced to be the same for both processes.</p></dd>
           <dt>Constraint params</dt><dd><p>Name of the covariate parameters which were constraint, if used.</p></dd>
</dl></p></dd>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>The model fitting functions <code><a href='https://rdrr.io/pkg/CLVTools/man/pnbd.html'>pnbd</a></code>.</p>
<p>Function <code>coef</code> will extract the <code>coefficients</code> matrix including summary statistics and
function <code>vcov</code> will extract the <code>vcov</code> from the returned summary object.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"apparelTrans"</span>)

<span class='co'># Fit pnbd standard model, no covariates</span>
<span class='kw'>clv.data.apparel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/CLVTools/man/clvdata.html'>clvdata</a></span>(<span class='kw'>apparelTrans</span>, time.unit=<span class='st'>"w"</span>,
                                estimation.split=<span class='fl'>40</span>, date.format=<span class='st'>"ymd"</span>)
<span class='kw'>pnbd.apparel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/CLVTools/man/pnbd.html'>pnbd</a></span>(<span class='kw'>clv.data.apparel</span>)</div><div class='output co'>#&gt; <span class='message'>Starting estimation...</span></div><div class='output co'>#&gt; <span class='message'>Estimation finished!</span></div><div class='input'>
<span class='co'># summary about model fit</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='kw'>pnbd.apparel</span>)</div><div class='output co'>#&gt; Pareto NBD Standard  Model 
#&gt; 
#&gt; Call:
#&gt; pnbd(clv.data = clv.data.apparel)
#&gt; 
#&gt; Fitting period:                               
#&gt; Estimation start  2005-01-03   
#&gt; Estimation end    2005-10-10   
#&gt; Estimation length 40.0000 Weeks
#&gt; 
#&gt; Coefficients:
#&gt;       Estimate Std. Error z-val Pr(&gt;|z|)    
#&gt; r       0.7867     0.1324 5.942 2.82e-09 ***
#&gt; alpha   5.3356     0.9028 5.910 3.42e-09 ***
#&gt; s       0.3574     0.1841 1.941   0.0523 .  
#&gt; beta   11.6316    10.6823 1.089   0.2762    
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; 
#&gt; Optimization info:                 
#&gt; LL     -2879.4699
#&gt; AIC    5766.9399 
#&gt; BIC    5781.0257 
#&gt; KKT 1  TRUE      
#&gt; KKT 2  TRUE      
#&gt; fevals 20.0000   
#&gt; Method L-BFGS-B  
#&gt; 
#&gt; Used Options:                 
#&gt; Correlation FALSE</div><div class='input'>
<span class='co'># Add static covariate data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"apparelStaticCov"</span>)
<span class='kw'>data.apparel.cov</span>  <span class='op'>&lt;-</span>
   <span class='fu'><a href='https://rdrr.io/pkg/CLVTools/man/SetStaticCovariates.html'>SetStaticCovariates</a></span>(<span class='kw'>clv.data.apparel</span>,
                       data.cov.life  = <span class='kw'>apparelStaticCov</span>,
                       names.cov.life = <span class='st'>"Gender"</span>,
                       data.cov.trans = <span class='kw'>apparelStaticCov</span>,
                       names.cov.trans = <span class='st'>"Gender"</span>,
                       name.id = <span class='st'>"Id"</span>)

<span class='co'># fit model with covariates and regualization</span>
<span class='kw'>pnbd.apparel.cov</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/CLVTools/man/pnbd.html'>pnbd</a></span>(<span class='kw'>data.apparel.cov</span>,
                         reg.lambdas = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(life=<span class='fl'>2</span>, trans=<span class='fl'>4</span>))</div><div class='output co'>#&gt; <span class='message'>Starting estimation...</span></div><div class='output co'>#&gt; <span class='message'>Estimation finished!</span></div><div class='input'>
<span class='co'># additional summary about covariate parameters</span>
<span class='co'>#   and used regularization</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='kw'>pnbd.apparel.cov</span>)</div><div class='output co'>#&gt; Pareto NBD with Static Covariates  Model 
#&gt; 
#&gt; Call:
#&gt; pnbd(clv.data = data.apparel.cov, reg.lambdas = c(life = 2, trans = 4))
#&gt; 
#&gt; Fitting period:                               
#&gt; Estimation start  2005-01-03   
#&gt; Estimation end    2005-10-10   
#&gt; Estimation length 40.0000 Weeks
#&gt; 
#&gt; Coefficients:
#&gt;               Estimate Std. Error  z-val Pr(&gt;|z|)
#&gt; r              0.79213    2.12227  0.373    0.709
#&gt; alpha          5.43154   14.77214  0.368    0.713
#&gt; s              0.35637    2.89054  0.123    0.902
#&gt; beta          11.50944  167.01749  0.069    0.945
#&gt; life.Gender   -0.00120    0.49947 -0.002    0.998
#&gt; trans.Gender   0.01333    0.35286  0.038    0.970
#&gt; 
#&gt; Optimization info:               
#&gt; LL     -11.5172
#&gt; AIC    35.0343 
#&gt; BIC    56.1631 
#&gt; KKT 1  TRUE    
#&gt; KKT 2  TRUE    
#&gt; fevals 43.0000 
#&gt; Method L-BFGS-B
#&gt; 
#&gt; Used Options:                      
#&gt; Correlation     FALSE 
#&gt; Regularization  TRUE  
#&gt;    lambda.life  2.0000
#&gt;    lambda.trans 4.0000
#&gt; Constraint covs FALSE </div><div class='input'><span class='co'># }</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Patrick Bachmann, Jeffrey Naef, Patrik Schilter, Markus Meierer, Niels Kuebler.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


