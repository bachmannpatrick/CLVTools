<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Customer Lifetime Value Tools — CLVTools-package • CLVTools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Customer Lifetime Value Tools — CLVTools-package" />
<meta property="og:description" content="CLVTools is a toolbox for various probabilistic customer attrition models
for non-contractual settings. It provides a framework, which is capable
of unifying different probabilistic customer attrition models. This package
provides tools to estimate the number of future transactions of individual
customers as well as the probability of customers being alive in future
periods. Further, the average spending by customers can be estimated.
Multiplying the future transactions conditional on being alive and the
predicted individual spending per transaction results in an individual CLV value.
The implemented models require transactional data from non-contractual
businesses (i.e. customers' purchase history)." />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-31477052-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-31477052-2');
</script>


<!-- dependencies from examples -->


  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CLVTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/CLVTools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/internal_docu/internal_docu.html">Internal Package Documentation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/bachmannpatrick/CLVTools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Customer Lifetime Value Tools</h1>
    <small class="dont-index">Source: <a href='https://github.com/bachmannpatrick/CLVTools/blob/master/R/CLVTools.R'><code>R/CLVTools.R</code></a></small>
    <div class="hidden name"><code>CLVTools-package.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>CLVTools is a toolbox for various probabilistic customer attrition models
for non-contractual settings. It provides a framework, which is capable
of unifying different probabilistic customer attrition models. This package
provides tools to estimate the number of future transactions of individual
customers as well as the probability of customers being alive in future
periods. Further, the average spending by customers can be estimated.
Multiplying the future transactions conditional on being alive and the
predicted individual spending per transaction results in an individual CLV value.</p>
<p>The implemented models require transactional data from non-contractual
businesses (i.e. customers' purchase history).</p>
    </div>



    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Development for CLVTools can be followed via the GitHub repository
at <a href='https://github.com/bachmannpatrick/CLVTools'>https://github.com/bachmannpatrick/CLVTools</a>.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p><strong>Maintainer</strong>: Patrick Bachmann <a href='mailto:patrick.bachmann@business.uzh.ch'>patrick.bachmann@business.uzh.ch</a></p>
<p>Authors:</p><ul>
<li><p>Niels Kuebler <a href='mailto:niels.kuebler@uzh.ch'>niels.kuebler@uzh.ch</a></p></li>
<li><p>Markus Meierer <a href='mailto:markus.meierer@business.uzh.ch'>markus.meierer@business.uzh.ch</a></p></li>
<li><p>Jeffrey Naef <a href='mailto:naef@stat.math.ethz.ch'>naef@stat.math.ethz.ch</a></p></li>
<li><p>Elliot Oblander <a href='mailto:eoblander23@gsb.columbia.edu'>eoblander23@gsb.columbia.edu</a></p></li>
<li><p>Patrik Schilter <a href='mailto:patrik.schilter@gmail.com'>patrik.schilter@gmail.com</a></p></li>
</ul>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># \donttest{</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"cdnow"</span><span class='op'>)</span>

<span class='co'># Create a CLV data object, split data in estimation and holdout sample</span>
<span class='va'>clv.data.cdnow</span> <span class='op'>&lt;-</span> <span class='fu'><a href='clvdata.html'>clvdata</a></span><span class='op'>(</span>data.transactions <span class='op'>=</span> <span class='va'>cdnow</span>, date.format <span class='op'>=</span> <span class='st'>"ymd"</span>,
                          time.unit <span class='op'>=</span> <span class='st'>"week"</span>, estimation.split <span class='op'>=</span> <span class='fl'>39</span>, name.id <span class='op'>=</span> <span class='st'>"Id"</span><span class='op'>)</span>

<span class='co'># summary of data</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>clv.data.cdnow</span><span class='op'>)</span>
</div><div class='output co'>#&gt; CLV Transaction Data 
#&gt;                                 
#&gt; Time unit         Weeks         
#&gt; Estimation length 39.0000 Weeks 
#&gt; Holdout length    38.71429 Weeks
#&gt; 
#&gt; Transaction Data Summary 
#&gt;                                    Estimation      Holdout         Total     
#&gt; Number of customers                -               -               2357      
#&gt; First Transaction in period        1997-01-01      1997-10-02      1997-01-01
#&gt; Last Transaction in period         1997-10-01      1998-06-30      1998-06-30
#&gt; Total # Transactions               4819            1877            6696      
#&gt; Mean # Transactions per cust       2.045           2.752           2.841     
#&gt; (SD)                               2.195           3.026           3.772     
#&gt; Mean Spending per Transaction      35.962          37.715          36.453    
#&gt; (SD)                               43.538          33.725          41.030    
#&gt; Total Spending                     173300.400      70791.540       244091.940
#&gt; Total # zero repeaters             1411            1675            1218      
#&gt; Percentage # zero repeaters        0.599           0.711           0.517     
#&gt; Mean Interpurchase time            9.282           8.227           16.017    
#&gt; (SD)                               7.772           6.256           14.533    
#&gt; </div><div class='input'>
<span class='co'># Fit a PNBD model without covariates on the first 39 periods</span>
<span class='va'>pnbd.cdnow</span> <span class='op'>&lt;-</span> <span class='fu'><a href='pnbd.html'>pnbd</a></span><span class='op'>(</span><span class='va'>clv.data.cdnow</span>,
                   start.params.model <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>r<span class='op'>=</span><span class='fl'>0.5</span>, alpha<span class='op'>=</span><span class='fl'>8</span>, s<span class='op'>=</span><span class='fl'>0.5</span>, beta<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Starting estimation...</span></div><div class='output co'>#&gt; <span class='message'>Estimation finished!</span></div><div class='input'><span class='co'># inspect fit</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>pnbd.cdnow</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Pareto NBD Standard  Model 
#&gt; 
#&gt; Call:
#&gt; pnbd(clv.data = clv.data.cdnow, start.params.model = c(r = 0.5, 
#&gt;     alpha = 8, s = 0.5, beta = 10))
#&gt; 
#&gt; Fitting period:                               
#&gt; Estimation start  1997-01-01   
#&gt; Estimation end    1997-10-01   
#&gt; Estimation length 39.0000 Weeks
#&gt; 
#&gt; Coefficients:
#&gt;       Estimate Std. Error  z-val Pr(&gt;|z|)    
#&gt; r      0.55104    0.04733 11.643  &lt; 2e-16 ***
#&gt; alpha 10.55523    0.83991 12.567  &lt; 2e-16 ***
#&gt; s      0.62519    0.19889  3.143  0.00167 ** 
#&gt; beta  12.25194    6.63251  1.847  0.06471 .  
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; 
#&gt; Optimization info:                 
#&gt; LL     -9615.2415
#&gt; AIC    19238.4830
#&gt; BIC    19261.5436
#&gt; KKT 1  TRUE      
#&gt; KKT 2  TRUE      
#&gt; fevals 19.0000   
#&gt; Method L-BFGS-B  
#&gt; 
#&gt; Used Options:                 
#&gt; Correlation FALSE</div><div class='input'>
<span class='co'># Predict 10 periods (weeks) ahead from estimation end</span>
<span class='co'>#   and compare to actuals in this period</span>
<span class='va'>pred.out</span> <span class='op'>&lt;-</span> <span class='fu'><a href='predict.clv.fitted.transactions.html'>predict</a></span><span class='op'>(</span><span class='va'>pnbd.cdnow</span>, prediction.end <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Predicting from 1997-10-02 until (incl.) 1997-12-10 (10 Weeks).</span></div><div class='output co'>#&gt; <span class='message'>Estimating gg model to predict spending...</span></div><div class='output co'>#&gt; <span class='message'>Starting estimation...</span></div><div class='output co'>#&gt; <span class='message'>Estimation finished!</span></div><div class='input'>
<span class='co'># Plot the fitted model to the actual repeat transactions</span>
<span class='fu'><a href='plot.clv.fitted.transactions.html'>plot</a></span><span class='op'>(</span><span class='va'>pnbd.cdnow</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Plotting from 1997-01-01 until 1998-07-05.</span></div><div class='img'><img src='CLVTools-package-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># }</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Patrick Bachmann, Niels Kuebler, Markus Meierer, Jeffrey Naef, Elliot Oblander, Patrik Schilter.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


